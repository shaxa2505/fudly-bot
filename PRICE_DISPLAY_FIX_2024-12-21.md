# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ü–µ–Ω –≤ –ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–î–∞—Ç–∞:** 21 –¥–µ–∫–∞–±—Ä—è 2024
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–≤–∞—Ä—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤, –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã

## üêõ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ —Å —Ü–µ–Ω–æ–π **35000 —Å—É–º**, –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å **3 500 000 —Å—É–º**.

### –ü—Ä–∏—á–∏–Ω–∞

–í —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–Ω –≤ **–∫–æ–ø–µ–π–∫–∞—Ö** (1 —Å—É–º = 100 –∫–æ–ø–µ–µ–∫) –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤:

1. **–í–µ–±-–ø–∞–Ω–µ–ª—å** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ü–µ–Ω—É –≤ —Å—É–º–∞—Ö: `35000`
2. **API** —É–º–Ω–æ–∂–∞–µ—Ç –Ω–∞ 100 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫–æ–ø–µ–π–∫–∞—Ö: `3500000`
3. **API –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –≤–æ–∑–≤—Ä–∞—â–∞–ª —Ü–µ–Ω—É –≤ –∫–æ–ø–µ–π–∫–∞—Ö –±–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏: `3500000`
4. **–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–∞–∫ –µ—Å—Ç—å: `3 500 000 —Å—É–º` ‚ùå

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ –∫–æ–ø–µ–µ–∫ –≤ —Å—É–º—ã (–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 100) –≤–æ –≤—Å–µ—Ö API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **app/api/webapp/routes_offers.py**
   - `GET /api/webapp/offers` - —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
   - `GET /api/webapp/offers/{offer_id}` - –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
   - `GET /api/webapp/flash-deals` - —Ñ–ª–µ—à-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

2. **app/api/webapp/routes_favorites.py**
   - `GET /api/webapp/favorites` - –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

3. **app/api/webapp/routes_cart.py**
   - `GET /api/webapp/cart/calculate` - —Ä–∞—Å—á–µ—Ç –∫–æ—Ä–∑–∏–Ω—ã

4. **app/api/webapp/routes_stores.py**
   - `GET /api/webapp/stores` - —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤
   - `GET /api/webapp/stores/{store_id}` - –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω
   - –¢–∞–∫–∂–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è: `delivery_price`, `min_order_amount`

5. **app/api/webapp/routes_orders.py**
   - `POST /api/webapp/orders` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```python
original_price=float(get_val(offer, "original_price", 0) or 0),
discount_price=float(get_val(offer, "discount_price", 0) or 0),
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```python
# Convert kopeks to sums for display (1 sum = 100 kopeks)
original_price_kopeks = float(get_val(offer, "original_price", 0) or 0)
discount_price_kopeks = float(get_val(offer, "discount_price", 0) or 0)
original_price_sums = original_price_kopeks / 100
discount_price_sums = discount_price_kopeks / 100

original_price=original_price_sums,
discount_price=discount_price_sums,
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

| –î–æ | –ü–æ—Å–ª–µ |
|---|---|
| 3 500 000 —Å—É–º ‚ùå | 35 000 —Å—É–º ‚úÖ |
| 150 000 —Å—É–º ‚ùå | 1 500 —Å—É–º ‚úÖ |
| 100 000 000 —Å—É–º ‚ùå | 1 000 000 —Å—É–º ‚úÖ |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä —á–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å —Å —Ü–µ–Ω–æ–π 35000
2. –û—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ "35 000 so'm" ‚úÖ

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–í–µ–±-–ø–∞–Ω–µ–ª—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤** —É–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ü–µ–Ω—ã (—Ñ–∞–π–ª `app/api/partner_panel_simple.py`)
- **Telegram –±–æ—Ç** —É–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ü–µ–Ω—ã (—Ñ–∞–π–ª—ã –≤ `handlers/`)
- –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ **—Ç–æ–ª—å–∫–æ –≤ API –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

## üîç –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

### –°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω:
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –∫–æ–ø–µ–π–∫–∏ (3500000)
- **API Partner Panel:** —Å—É–º—ã (35000)
- **API Mini App:** —Å—É–º—ã (35000) ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- **Telegram Bot:** —Å—É–º—ã (35000) ‚úÖ

### –§–æ—Ä–º—É–ª–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:
```python
# –ö–æ–ø–µ–π–∫–∏ ‚Üí –°—É–º—ã
price_sums = price_kopeks / 100

# –°—É–º—ã ‚Üí –ö–æ–ø–µ–π–∫–∏ (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)
price_kopeks = price_sums * 100
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ü–µ–Ω—ã, **–≤—Å–µ–≥–¥–∞** –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –∫–æ–ø–µ–µ–∫ –≤ —Å—É–º—ã:

```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
price = float(get_val(offer, "discount_price", 0) or 0) / 100

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
price = float(get_val(offer, "discount_price", 0) or 0)
```

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="api-base" content="https://fudly-bot-production.up.railway.app">
    <title>Fudly Partner v21.1</title>
    <script src="config.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Onest:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script
        src="https://telegram.org/js/telegram-web-app.js"
        integrity="sha384-wu6NaNFje/cy2WpzoCYjC6iPCpaj31EaX/jvOdLlueI1ZvziK83GJATi3JJ3gTL+"
        crossorigin="anonymous"
    ></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"
        integrity="sha384-e6nUZLBkQ86NJ6TVVKAeSaK8jWa3NhkYWZFomE39AvDbQWeie9PlQqM3pmYW5d1g"
        crossorigin="anonymous"
    ></script>
    <script
        src="https://unpkg.com/lucide@0.563.0/dist/umd/lucide.min.js"
        integrity="sha384-aRB6X3zBuyu5EQF6GZFp0RCYdOwxYAOdFk4nViPfqSXYxc+MrZlqbM+nUYRwDQn1"
        crossorigin="anonymous"
    ></script>
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha384-sHL9NAb7lN7rfvG5lfHpm643Xkcjzp4jFvuavGOndn6pjVqS6ny56CAt3nsEVT4H"
        crossorigin="anonymous"
    >
    <script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha384-cxOPjt7s7Iz04uaHJceBmS+qpjv2JkIHNVcuOrM+YHwZOmJGBXI00mdUXEq65HTH"
        crossorigin="anonymous"
    ></script>

    <!-- Modular CSS Architecture -->
    <link rel="stylesheet" href="styles/variables.css?v=21.1">
    <link rel="stylesheet" href="styles/base.css?v=21.1">
    <link rel="stylesheet" href="styles/header.css?v=21.1">
    <link rel="stylesheet" href="styles/navigation.css?v=21.1">
    <link rel="stylesheet" href="styles/buttons.css?v=21.1">
    <link rel="stylesheet" href="styles/products.css?v=21.1">
    <link rel="stylesheet" href="styles/main.css?v=21.1">
    <link rel="stylesheet" href="styles/utilities.css?v=21.1">
    <link rel="stylesheet" href="styles/states.css?v=21.1">
    <link rel="stylesheet" href="styles/design-fixes.css?v=21.1">
    <link rel="stylesheet" href="styles/product-form-improvements.css?v=1.5">

    <!-- Critical Modal Styles -->
    <style>
        /* Prevent body scroll when modal is open */
        body.modal-open {
            overflow: hidden !important;
            touch-action: none !important;
        }

        /* Ensure modal is always visible */
        .modal-overlay {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            z-index: 9999 !important;
            display: flex !important;
            align-items: flex-start !important;
            justify-content: center !important;
            background: rgba(17, 19, 18, 0.45) !important;
            backdrop-filter: blur(8px) !important;
            padding: 20px !important;
            overflow-y: auto !important;
            -webkit-overflow-scrolling: touch !important;
            overscroll-behavior: contain !important;
            touch-action: pan-y !important;
        }

        .modal-content {
            position: relative !important;
            background: #FFFFFF !important;
            border-radius: 20px !important;
            max-width: 680px !important;
            width: 100% !important;
            max-height: none !important;
            margin: 20px auto !important;
            overflow: visible !important;
            display: flex !important;
            flex-direction: column !important;
            box-shadow: 0 20px 40px rgba(17, 19, 18, 0.12) !important;
            touch-action: pan-y !important;
        }

        .modal-body {
            overflow-y: visible !important;
            overflow-x: hidden !important;
            -webkit-overflow-scrolling: touch !important;
            overscroll-behavior: contain !important;
            touch-action: pan-y !important;
            max-height: none !important;
        }
    </style>

</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="store-info">
                <div class="store-avatar">
                    <i data-lucide="store"></i>
                </div>
            <div class="store-details">
                <h1 id="storeName">Загрузка...</h1>
                <div class="store-status">
                    <div class="status-dot" id="storeStatusDot"></div>
                    <span id="storeStatusText">Открыто</span>
                </div>
            </div>
        </div>
            <div class="header-actions">
                <button class="icon-btn" onclick="refreshAll()" aria-label="Обновить данные">
                    <i data-lucide="refresh-cw"></i>
                </button>
                <button class="icon-btn" aria-label="Уведомления">
                    <i data-lucide="bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="content">
        <div class="loading">
            <div class="spinner"></div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-view="dashboard" onclick="switchView('dashboard')">
            <span class="nav-icon"><i data-lucide="home"></i></span>
            <span class="nav-label">Главная</span>
        </button>
        <button class="nav-item" data-view="orders" onclick="switchView('orders')">
            <span class="nav-icon">
                <i data-lucide="clipboard-list"></i>
                <span class="nav-badge" id="ordersNavBadge">0</span>
            </span>
            <span class="nav-label">Заказы</span>
        </button>
        <button class="nav-item" data-view="products" onclick="switchView('products')">
            <span class="nav-icon"><i data-lucide="package"></i></span>
            <span class="nav-label">Товары</span>
        </button>
        <button class="nav-item" data-view="stats" onclick="switchView('stats')">
            <span class="nav-icon"><i data-lucide="bar-chart-3"></i></span>
            <span class="nav-label">Статистика</span>
        </button>
        <button class="nav-item" data-view="settings" onclick="switchView('settings')">
            <span class="nav-icon"><i data-lucide="settings"></i></span>
            <span class="nav-label">Настройки</span>
        </button>
    </nav>

    <!-- Main Application JavaScript -->
    <script src="app.js"></script>

    <!-- UX Improvements Phase 1 -->
    <script src="improvements.js"></script>
</body>
</html>










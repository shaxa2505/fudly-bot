# –£–ª—É—á—à–µ–Ω–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Fudly

## üì± –û–±–∑–æ—Ä —É–ª—É—á—à–µ–Ω–∏–π

–ü–æ–ª–Ω—ã–π —Ä–µ–¥–∏–∑–∞–π–Ω –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI/UX –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.

---

## üé® UI/UX —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤**
- ‚úÖ –¢–µ–Ω–∏ –∏ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã
- ‚úÖ Smooth –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- ‚úÖ –°–∫–µ–ª–µ—Ç–æ–Ω—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å–æ —Å–∫–∏–¥–∫–∞–º–∏

### 2. **Sticky header —Å –ø–æ–∏—Å–∫–æ–º**
- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∞–ø–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- ‚úÖ –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (debounce)
- ‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –ø–æ–∏—Å–∫–µ
- ‚úÖ –ò–∫–æ–Ω–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∏—Å–∫–∞

### 3. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏**
- ‚úÖ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ –≠–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –°—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 4. **–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞**
- ‚úÖ –ü–æ–¥–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (offset + limit)

---

## üöÄ –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ (Favorites)**

**API Endpoints:**
```http
GET /api/v1/favorites
POST /api/v1/favorites/add
POST /api/v1/favorites/remove
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞

### 2. **–ö–æ—Ä–∑–∏–Ω–∞ (Cart)**

**API Endpoints:**
```http
GET /api/v1/cart/calculate
POST /api/v1/orders
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –ü–æ–¥—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã
- Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞

### 3. **–§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**

**API Endpoint:**
```http
GET /api/v1/offers?min_price=1000&max_price=50000&min_discount=30&sort_by=discount
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
- `min_price` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `max_price` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- `min_discount` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ (%)
- `sort_by` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:
  - `discount` - –ø–æ —Ä–∞–∑–º–µ—Ä—É —Å–∫–∏–¥–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `price_asc` - –ø–æ —Ü–µ–Ω–µ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
  - `price_desc` - –ø–æ —Ü–µ–Ω–µ (—É–±—ã–≤–∞–Ω–∏–µ)
  - `new` - –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –°–ª–∞–π–¥–µ—Ä—ã –¥–ª—è —Ü–µ–Ω—ã
- –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ö–Ω–æ–ø–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

### 4. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è**

**API Endpoint:**
```http
POST /api/v1/stores/nearby
{
  "latitude": 41.2995,
  "longitude": 69.2401
}
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–∫–∞–∑ –±–ª–∏–∂–∞–π—à–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
- –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–¥–∏—É—Å—É (5, 10, 15 –∫–º)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö

### 5. **–ü–æ–∏—Å–∫ —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º**

**API Endpoint:**
```http
GET /api/v1/search/suggestions?query=–º–æ–ª&limit=5
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –ñ–∏–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –≤–≤–æ–¥–µ
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

### 6. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**

**API Endpoint:**
```http
GET /api/v1/stats/hot-deals?city=–¢–∞—à–∫–µ–Ω—Ç
```

**–î–∞–Ω–Ω—ã–µ:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- –°—Ä–µ–¥–Ω—è—è —Å–∫–∏–¥–∫–∞
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```typescript
// src/pages/HomePage.tsx
import React, { useState, useEffect, useCallback } from 'react';
import { useInfiniteScroll } from '../hooks/useInfiniteScroll';
import { useDebounce } from '../hooks/useDebounce';
import { api } from '../api/client';

interface Offer {
  id: number;
  title: string;
  description?: string;
  original_price: number;
  discount_price: number;
  discount_percent: number;
  quantity: number;
  category: string;
  store_name: string;
  photo?: string;
}

interface Category {
  id: string;
  name: string;
  emoji: string;
  count: number;
}

export const HomePage: React.FC = () => {
  const [offers, setOffers] = useState<Offer[]>([]);
  const [categories, setCategories] = useState<Category[]>([]);
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [searchQuery, setSearchQuery] = useState('');
  const [loading, setLoading] = useState(false);
  const [hasMore, setHasMore] = useState(true);
  const [offset, setOffset] = useState(0);
  const [favorites, setFavorites] = useState<Set<number>>(new Set());
  const [cart, setCart] = useState<Map<number, number>>(new Map());

  // Filters
  const [showFilters, setShowFilters] = useState(false);
  const [minPrice, setMinPrice] = useState<number | null>(null);
  const [maxPrice, setMaxPrice] = useState<number | null>(null);
  const [minDiscount, setMinDiscount] = useState<number | null>(null);
  const [sortBy, setSortBy] = useState('discount');

  const debouncedSearch = useDebounce(searchQuery, 500);

  // Load categories
  useEffect(() => {
    const loadCategories = async () => {
      try {
        const data = await api.getCategories();
        setCategories(data);
      } catch (error) {
        console.error('Error loading categories:', error);
      }
    };
    loadCategories();
  }, []);

  // Load offers
  const loadOffers = useCallback(async (reset = false) => {
    if (loading) return;

    setLoading(true);
    try {
      const currentOffset = reset ? 0 : offset;

      const data = await api.getOffers({
        category: selectedCategory,
        search: debouncedSearch || undefined,
        min_price: minPrice || undefined,
        max_price: maxPrice || undefined,
        min_discount: minDiscount || undefined,
        sort_by: sortBy,
        limit: 20,
        offset: currentOffset,
      });

      if (reset) {
        setOffers(data);
        setOffset(20);
      } else {
        setOffers(prev => [...prev, ...data]);
        setOffset(prev => prev + 20);
      }

      setHasMore(data.length === 20);
    } catch (error) {
      console.error('Error loading offers:', error);
    } finally {
      setLoading(false);
    }
  }, [
    selectedCategory,
    debouncedSearch,
    minPrice,
    maxPrice,
    minDiscount,
    sortBy,
    offset,
    loading,
  ]);

  // Initial load and reload on filter changes
  useEffect(() => {
    loadOffers(true);
  }, [selectedCategory, debouncedSearch, minPrice, maxPrice, minDiscount, sortBy]);

  // Infinite scroll
  const { targetRef } = useInfiniteScroll({
    onIntersect: () => {
      if (hasMore && !loading) {
        loadOffers(false);
      }
    },
    enabled: hasMore,
  });

  // Toggle favorite
  const toggleFavorite = async (offerId: number) => {
    try {
      if (favorites.has(offerId)) {
        await api.removeFavorite(offerId);
        setFavorites(prev => {
          const next = new Set(prev);
          next.delete(offerId);
          return next;
        });
      } else {
        await api.addFavorite(offerId);
        setFavorites(prev => new Set(prev).add(offerId));
      }
    } catch (error) {
      console.error('Error toggling favorite:', error);
    }
  };

  // Add to cart
  const addToCart = (offerId: number) => {
    setCart(prev => {
      const next = new Map(prev);
      const currentQty = next.get(offerId) || 0;
      next.set(offerId, currentQty + 1);
      return next;
    });
  };

  return (
    <div className="home-page">
      {/* Header */}
      <header className="sticky-header">
        <div className="search-bar">
          <input
            type="text"
            placeholder="Mahsulot qidirish..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
          />
          {searchQuery && (
            <button onClick={() => setSearchQuery('')}>‚úï</button>
          )}
        </div>

        <div className="header-actions">
          <button onClick={() => setShowFilters(true)}>
            üéõÔ∏è Filtrlar
          </button>
          <button onClick={() => window.location.href = '/cart'}>
            üõí Savat ({cart.size})
          </button>
        </div>
      </header>

      {/* Categories */}
      <div className="categories-scroll">
        {categories.map(cat => (
          <button
            key={cat.id}
            className={selectedCategory === cat.id ? 'active' : ''}
            onClick={() => setSelectedCategory(cat.id)}
          >
            <span className="emoji">{cat.emoji}</span>
            <span className="name">{cat.name}</span>
            <span className="count">{cat.count}</span>
          </button>
        ))}
      </div>

      {/* Sort buttons */}
      <div className="sort-buttons">
        <button
          className={sortBy === 'discount' ? 'active' : ''}
          onClick={() => setSortBy('discount')}
        >
          üî• Eng katta chegirma
        </button>
        <button
          className={sortBy === 'price_asc' ? 'active' : ''}
          onClick={() => setSortBy('price_asc')}
        >
          üí∞ Arzon
        </button>
        <button
          className={sortBy === 'new' ? 'active' : ''}
          onClick={() => setSortBy('new')}
        >
          ‚ú® Yangi
        </button>
      </div>

      {/* Offers grid */}
      <div className="offers-grid">
        {loading && offers.length === 0 ? (
          // Skeleton loaders
          Array.from({ length: 6 }).map((_, i) => (
            <div key={i} className="offer-card skeleton">
              <div className="skeleton-image" />
              <div className="skeleton-text" />
              <div className="skeleton-text short" />
            </div>
          ))
        ) : (
          offers.map(offer => (
            <div key={offer.id} className="offer-card">
              <div className="card-image">
                <img
                  src={offer.photo || '/placeholder.png'}
                  alt={offer.title}
                  loading="lazy"
                />
                <div className="discount-badge">
                  -{offer.discount_percent}%
                </div>
                <button
                  className="favorite-btn"
                  onClick={() => toggleFavorite(offer.id)}
                >
                  {favorites.has(offer.id) ? '‚ù§Ô∏è' : 'ü§ç'}
                </button>
              </div>

              <div className="card-content">
                <h3>{offer.title}</h3>
                <p className="store-name">{offer.store_name}</p>

                <div className="price-row">
                  <span className="discount-price">
                    {offer.discount_price.toLocaleString()} —Å—É–º
                  </span>
                  <span className="original-price">
                    {offer.original_price.toLocaleString()} —Å—É–º
                  </span>
                </div>

                <button
                  className="add-to-cart-btn"
                  onClick={() => addToCart(offer.id)}
                >
                  Savatga
                </button>
              </div>
            </div>
          ))
        )}
      </div>

      {/* Infinite scroll trigger */}
      {hasMore && (
        <div ref={targetRef} className="loading-indicator">
          {loading && <div className="spinner">‚è≥</div>}
        </div>
      )}

      {/* Filters modal */}
      {showFilters && (
        <div className="filters-modal">
          <div className="modal-content">
            <h2>Filtrlar</h2>

            <div className="filter-section">
              <label>Narx oralig'i</label>
              <input
                type="number"
                placeholder="Min"
                value={minPrice || ''}
                onChange={(e) => setMinPrice(Number(e.target.value) || null)}
              />
              <input
                type="number"
                placeholder="Max"
                value={maxPrice || ''}
                onChange={(e) => setMaxPrice(Number(e.target.value) || null)}
              />
            </div>

            <div className="filter-section">
              <label>Minimal chegirma (%)</label>
              <input
                type="number"
                placeholder="Masalan: 30"
                value={minDiscount || ''}
                onChange={(e) => setMinDiscount(Number(e.target.value) || null)}
              />
            </div>

            <div className="modal-actions">
              <button onClick={() => setShowFilters(false)}>
                Yopish
              </button>
              <button onClick={() => {
                setMinPrice(null);
                setMaxPrice(null);
                setMinDiscount(null);
              }}>
                Tozalash
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};
```

### API Client

```typescript
// src/api/client.ts
import axios from 'axios';

const API_BASE = 'https://your-bot-api.railway.app/api/v1';

export const api = {
  async getCategories() {
    const { data } = await axios.get(`${API_BASE}/categories`);
    return data;
  },

  async getOffers(params: {
    category?: string;
    search?: string;
    min_price?: number;
    max_price?: number;
    min_discount?: number;
    sort_by?: string;
    limit?: number;
    offset?: number;
  }) {
    const { data } = await axios.get(`${API_BASE}/offers`, { params });
    return data;
  },

  async addFavorite(offerId: number) {
    const { data } = await axios.post(
      `${API_BASE}/favorites/add`,
      { offer_id: offerId },
      {
        headers: {
          'X-Telegram-Init-Data': window.Telegram?.WebApp?.initData,
        },
      }
    );
    return data;
  },

  async removeFavorite(offerId: number) {
    const { data } = await axios.post(
      `${API_BASE}/favorites/remove`,
      { offer_id: offerId },
      {
        headers: {
          'X-Telegram-Init-Data': window.Telegram?.WebApp?.initData,
        },
      }
    );
    return data;
  },

  async calculateCart(items: Array<{ offerId: number; quantity: number }>) {
    const offerIds = items.map(i => `${i.offerId}:${i.quantity}`).join(',');
    const { data } = await axios.get(`${API_BASE}/cart/calculate`, {
      params: { offer_ids: offerIds },
    });
    return data;
  },

  async createOrder(orderData: any) {
    const { data } = await axios.post(`${API_BASE}/orders`, orderData, {
      headers: {
        'X-Telegram-Init-Data': window.Telegram?.WebApp?.initData,
      },
    });
    return data;
  },
};
```

### Hooks

```typescript
// src/hooks/useInfiniteScroll.ts
import { useEffect, useRef } from 'react';

export const useInfiniteScroll = ({
  onIntersect,
  enabled = true,
}: {
  onIntersect: () => void;
  enabled?: boolean;
}) => {
  const targetRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (!enabled) return;

    const observer = new IntersectionObserver(
      (entries) => {
        if (entries[0].isIntersecting) {
          onIntersect();
        }
      },
      { threshold: 0.1 }
    );

    const target = targetRef.current;
    if (target) {
      observer.observe(target);
    }

    return () => {
      if (target) {
        observer.unobserve(target);
      }
    };
  }, [enabled, onIntersect]);

  return { targetRef };
};

// src/hooks/useDebounce.ts
import { useState, useEffect } from 'react';

export const useDebounce = <T>(value: T, delay: number): T => {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debouncedValue;
};
```

### CSS —Å—Ç–∏–ª–∏

```css
/* src/styles/HomePage.css */
.home-page {
  min-height: 100vh;
  background: #f5f5f5;
  padding-bottom: 80px;
}

/* Sticky Header */
.sticky-header {
  position: sticky;
  top: 0;
  background: var(--tg-theme-bg-color, #fff);
  padding: 12px 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 100;
}

.search-bar {
  position: relative;
  margin-bottom: 12px;
}

.search-bar input {
  width: 100%;
  padding: 12px 40px 12px 16px;
  border: 1px solid #e0e0e0;
  border-radius: 12px;
  font-size: 16px;
  background: var(--tg-theme-secondary-bg-color, #f0f0f0);
}

.search-bar button {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 18px;
  cursor: pointer;
}

.header-actions {
  display: flex;
  gap: 8px;
}

.header-actions button {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: var(--tg-theme-button-color, #3390ec);
  color: var(--tg-theme-button-text-color, #fff);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

/* Categories */
.categories-scroll {
  display: flex;
  gap: 12px;
  padding: 16px;
  overflow-x: auto;
  scrollbar-width: none;
}

.categories-scroll::-webkit-scrollbar {
  display: none;
}

.categories-scroll button {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 12px 16px;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  background: #fff;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.categories-scroll button.active {
  border-color: var(--tg-theme-button-color, #3390ec);
  background: var(--tg-theme-button-color, #3390ec);
  color: #fff;
}

.categories-scroll .emoji {
  font-size: 24px;
}

.categories-scroll .name {
  font-size: 12px;
  font-weight: 500;
}

.categories-scroll .count {
  font-size: 11px;
  opacity: 0.6;
}

/* Sort buttons */
.sort-buttons {
  display: flex;
  gap: 8px;
  padding: 0 16px 16px;
}

.sort-buttons button {
  padding: 8px 16px;
  border: 1px solid #e0e0e0;
  border-radius: 20px;
  background: #fff;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s;
}

.sort-buttons button.active {
  background: var(--tg-theme-button-color, #3390ec);
  color: #fff;
  border-color: var(--tg-theme-button-color, #3390ec);
}

/* Offers Grid */
.offers-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 12px;
  padding: 0 16px;
}

.offer-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  transition: transform 0.2s, box-shadow 0.2s;
}

.offer-card:active {
  transform: scale(0.98);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.card-image {
  position: relative;
  width: 100%;
  padding-top: 100%;
  background: #f0f0f0;
}

.card-image img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.discount-badge {
  position: absolute;
  top: 8px;
  left: 8px;
  background: #ff3b30;
  color: #fff;
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 700;
}

.favorite-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  background: rgba(255, 255, 255, 0.9);
  border: none;
  border-radius: 50%;
  width: 32px;
  height: 32px;
  font-size: 16px;
  cursor: pointer;
  backdrop-filter: blur(4px);
}

.card-content {
  padding: 12px;
}

.card-content h3 {
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 4px 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.store-name {
  font-size: 11px;
  color: #888;
  margin: 0 0 8px 0;
}

.price-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 12px;
}

.discount-price {
  font-size: 16px;
  font-weight: 700;
  color: #000;
}

.original-price {
  font-size: 12px;
  color: #999;
  text-decoration: line-through;
}

.add-to-cart-btn {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: var(--tg-theme-button-color, #3390ec);
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
}

/* Skeleton */
.offer-card.skeleton {
  pointer-events: none;
}

.skeleton-image {
  width: 100%;
  padding-top: 100%;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
}

.skeleton-text {
  height: 16px;
  margin: 8px 12px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: 4px;
}

.skeleton-text.short {
  width: 60%;
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Loading indicator */
.loading-indicator {
  padding: 20px;
  text-align: center;
}

.spinner {
  font-size: 24px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Filters Modal */
.filters-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: flex-end;
  z-index: 1000;
}

.modal-content {
  background: var(--tg-theme-bg-color, #fff);
  border-radius: 16px 16px 0 0;
  padding: 24px;
  width: 100%;
  max-height: 80vh;
  overflow-y: auto;
}

.modal-content h2 {
  margin: 0 0 20px 0;
  font-size: 20px;
}

.filter-section {
  margin-bottom: 20px;
}

.filter-section label {
  display: block;
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 8px;
}

.filter-section input {
  width: 100%;
  padding: 12px;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  font-size: 16px;
  margin-bottom: 8px;
}

.modal-actions {
  display: flex;
  gap: 12px;
}

.modal-actions button {
  flex: 1;
  padding: 14px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

.modal-actions button:first-child {
  background: #e0e0e0;
  color: #000;
}

.modal-actions button:last-child {
  background: var(--tg-theme-button-color, #3390ec);
  color: #fff;
}
```

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚ö° –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚ö° –î–µ–±–∞—É–Ω—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
- ‚ö° –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

### UX
- üëç –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üëç –ë—ã—Å—Ç—Ä—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- üëç –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- üëç –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚ú® –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∫–æ—Ä–∑–∏–Ω–∞
- ‚ú® –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- ‚ú® –£–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚ú® –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
- ‚ú® –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** –≤ fudly-webapp –ø—Ä–æ–µ–∫—Ç–µ
2. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É favorites** –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å Redis
5. **–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É** (–Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞, Google Analytics)
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## üì± –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Frontend:**
- React + TypeScript
- Vite
- Telegram WebApp SDK
- Axios
- React Query (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Backend:**
- FastAPI ‚úÖ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- PostgreSQL
- Redis (–¥–ª—è –∫—ç—à–∞)

**Deployment:**
- Frontend: Vercel ‚úÖ
- Backend: Railway ‚úÖ

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- –í—Å–µ API endpoints –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `user_favorites` –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –î–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `latitude` –∏ `longitude` –≤ —Ç–∞–±–ª–∏—Ü—É `stores`
- –ö–æ—Ä–∑–∏–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
